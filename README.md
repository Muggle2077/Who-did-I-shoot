Minecraft Datapack: Who did I shoot

## 数据包 

| 中文名 | 英文名 | 命名空间 | 作者 |
| - | - | - | - |
| 我射中了谁 | Who did I shoot | wdis | [Muggle2077](https://www.mcmod.cn/author/25027.html) |

## 作用

- 确定被玩家用弓或弩射出的箭击中的实体。

## 效果

- 给予被玩家用弓、弩射出的箭击中的实体 1s 的发光效果；
- 以 *`<玩家>` 射中了 `<实体>`* 的格式将结果显示在聊天栏中。
- 可在函数 `wdis:find_target` 中修改以实现其他效果。
  - 其中 `@s` 指玩家，`@e[tag=wdis-self]` 指被玩家用弓或弩射出的箭击中的实体。

## 原理

1. 给每位玩家分配一个 UID（记分板分数）；
2. 检测玩家使用弓或弩；
3. 匹配 UUID，确定玩家射出的箭；
4. 给箭加一个霉运（Unluck）的药水效果，其倍率（Amplifier）与玩家的 UID 相同；
5. 根据实体身上霉运的药水效果倍率来确定攻击者。

- 为了添加霉运的药水效果，射出后的光灵箭（Spectral arrow）被修改成了带有发光效果的箭（Arrow），直到落地后才修改回光灵箭。

## 缺陷

1. 占用了原版霉运的药水效果；
2. 无法检测被玩家击杀的实体；
3. 无法检测对药水效果免疫的实体。
